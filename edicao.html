<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/edicao.css">
    <script src="/js/edicao.js"></script>
    <title>Edição</title>
</head>
<body>
    <div class="body">      
        <div class="fixed-top">
            <header class="card-header">
                <h5>MENSAGEM DO PROJETO</h5>
            </header>    
        </div>

        <div class="" id="body-container">
            <div class="menor-conteudo">
                <div id="tipo-lancamento">
                    <fieldset class="row mb-3">
                        <legend class="title">Escolha o tipo de Lançamento</legend>
                        <div class="col-sm-10">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios1" value="E">
                                <label class="form-check-label" for="gridRadios1">
                                Entrada
                                </label>
                            </div>
                            <br>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios2" value="S">
                                <label class="form-check-label" for="gridRadios2">
                                Saída
                                </label>
                            </div>
                        </div>
                    </fieldset>
                </div>

                <div id="natureza-lancamento">
                    <div class="descricao-conteudo form-group">
                        <label class="input-group-text" for="txtNatureza">Natureza do Lançamento:</label>
                        <br>
                        <input type="text" class="form-control" id="txtNatureza" name="txtNatureza">
                    </div>
                </div>
            </div>
            <div class="maior-conteudo">
                <div class="descricao-conteudo form-group">
                    <label class="input-group-text" for="txtDescricao">Descrição - Histórico do Lançamento</label>
                    <textarea class="form-control" id="txtDescricao" rows="3"></textarea>
                </div>
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                      <span class="input-group-text">R$</span>
                    </div>
                    <input type="text" class="form-control" id="txtValor">
                </div>
                <div class="calendario-lançamento">
                    <label class="input-group-text" for="data-lançamento">Data para inclusão do Lançamento</label>
                    <input type="date" name="data-lançamento" title="Data Atual" id="txtData">
                </div>
                <div class="inserir-conteudo title">                     
                    <button type="submit" class="btn btn-warning btn-lg" onclick=Alteraçao()>Salvar</button>
                    <button type="submit" class="btn btn-warning btn-lg" onclick=Cancelar()>Cancelar</button>
                </div>
            </div>
        </div>
        <script>
            function PosicionarRegistro(){
                var _tipo = dbd.registros[chave-1].ES;
                if (_tipo === "E"){
                    document.getElementById("gridRadios2").checked = false;
                    document.getElementById("gridRadios1").checked = true;
                } else{
                    document.getElementById("gridRadios1").checked = false;
                    document.getElementById("gridRadios2").checked = true;
                };
                DataEdicao()
                document.getElementById("txtDescricao").innerHTML = dbd.registros[chave-1].Descriçao;
                document.getElementById("txtNatureza").value = dbd.registros[chave-1].Natureza;
                document.getElementById("txtValor").value = dbd.registros[chave-1].Valor;
            }
            PosicionarRegistro();
            
            function DataEdicao(){
            var _data = dbd.registros[chave-1].Data;
            var dd = _data.slice(0,2);
            var dm = _data.slice(3,5);
            var dy = _data.slice(6,10);
            var mydate = dy + "-" + dm  + "-" + dd;
            document.getElementById("txtData").value = mydate;
            }

            </script>
            <div class="fixed-bottom">
                <footer class="card-footer">
                    <h6>RODAPÉ DA PÁGINA</h6>
                </footer>
            </div>
    </div>                
</body>
</html>